# Week 3A

## I. Previous Assignment
- [PE-03 - Review `XHR` & Parsing Text/CSV/XML](../pe/pe-03.md) - will review when we cover JSON, below

---

## II. Upcoming HW Assignments
- [PE-04 - loading and parsing JSON files](../pe/pe-04.md)
- [HW-1 - Technobabble - Ultimate Version](../hw/hw-1.md)
  - we have covered "wrapper" functions, template strings, arrow functions 
  - still need ES6 modules & XHR/JSON - as mentioned, will cover these below

---

## III. JSON Notes
- We will be looking at these notes (the assignment due before next time) - [PE-04 - loading and parsing JSON files](../pe/pe-04.md)
  - but the code we will be writing today won't look like what is in this assignment, so be sue to complete the assignment on your own after class!

### III-A. JS Looping

***Let's review several ways of using loops to create the "pet name" HTML***

- First, a standard `for` loop:

```js
let html = "";
for (let i=0; i< myArray.length; i++){
  html += `<p>${myArray[i]}</p>`;
}
content.innerHTML = html;
```

- Next, a `for..of` loop:

```js
let html = "";
for (let item of myArray){ // Don't need a counter, NICE!
  html += `<p>${item}</p>`;
}
content.innerHTML = html;
```

- Finally, the way we did it in the HW, [`array.map()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map) and [`array.join()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join)
- longer way:

```js
const paraFunc = item => `<p>${item}</p>`;
const htmlArray = myArray.map(paraFunc);
const htmlString = htmlArray.join("");
content.innerHTML = htmlString;
```

- short way:

```js
content.innerHTML = myArray.map(item => `<p>${item}</p>`).join("");
```

---

### III-B. Better data file

- Let's work on parsing and displaying the contents of this JSON file, which has some extra information (in nested objects) in it about our pet names:

**pet-names-more-data.json**

```json
{
  "dogData": {
    "names" : ["Bella","Luna","Charlie","Lucy","Cooper","Max","Bailey","Daisy","Sadie","Lola","Buddy","Molly","Stella","Tucker","Bear","Zoey","Duke","Harley","Maggie","Jax"],
    "categoryName": "Popular Dog Names",
    "dataSource": "petnames.com"
  },
  "catData":{
    "names" : ["Oliver","Leo","Milo","Charlie","Simba","Max","Jack","Loki","Tiger","Jasper","Ollie","Oscar","George","Buddy","Toby","Smokey","Finn","Felix","Simon","Shadow"],
    "categoryName": "Popular Cat Names",
    "dataSource": "meowfriends.org"
  }
}
```

---

### III-C. Filtering arrays

- We can [`array.filter()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter) an array, which returns a new array containing the elements that passed the provided test function
- Like `array.map()`, `array.filter()` is a *higher-order function*, which is a function that takes another function as an argument 
- example
```js
const testScores = [5, -40, 80, 41, 3, -80, 100];
const testFunction = n => { 
  // only keep the scores >= 0
  if(n >= 0){
    return true;
  } else {
    return false;
  }
};
const filteredScores = testScores.filter(testFunction); 
console.log(filteredScores); // [5, 80, 41, 3, 100]
```

- The code below does the same thing, but it's much more concise, and you'll look like less of a newbie

```js
const testScores = [5, -40, 80, 41, 3, -80, 100];
const filteredScores = testScores.filter(n => n>=0); // only keep the scores >= 0
console.log(filteredScores);
```

---

### III-C. Sorting arrays

- We can call [`.sort()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort) to sort arrays
  - *sorts the elements of an array in place and returns the reference to the same array, now sorted. The default sort order is ascending, built upon converting the elements into strings, then comparing their sequences of UTF-16 code unit values*

```js
const colors = ["red","green","blue"];
console.log(colors.sort()); // ['blue', 'green', 'red']

const numbers = [1000, 100, -50, 0, 99, 909, 3, 5, 2, 1, 4];
console.log(numbers.sort()); // [-50, 0, 1, 100, 1000, 2, 3, 4, 5, 909, 99] ... hmmm ...
```

---

### III-D. Sorting arrays (better!)
- For sorting needs that go beyond "alphabetical ascending" - you will need to provide a *compare function* - here's an example in pseudocode:

```js
const compareFn => (a, b) {
  if (a is less than b by some ordering criterion) {
    return -1; // sort a before b
  } else if (a is greater than b by the ordering criterion) {
    return 1; // sort b before a
  }
  // a must be equal to b
  return 0; // don't change order
};
```

- To sort numbers numerically, *ascending*, the long version would look like this:

```js
const numericSortAsc = (a, b) => {
  if (a < b) {
    return -1; // sort a before b
  } else if (a > b) {
    return 1; // sort b before a
  }
  // a must be equal to b
  return 0; // don't change order
};

const numbers = [1000, 100, -50, 0, 99, 909, 3, 5, 2, 1, 4];
console.log(numbers.sort(numericSortAsc)); // [-50, 0, 1, 2, 3, 4, 5, 99, 100, 909, 1000] - BETTER!
```

- But if we just return a negative or positive number (rather than -1 or 1) - that works too - here's the short version:

```js
const numbers = [1000, 100, -50, 0, 99, 909, 3, 5, 2, 1, 4];
const numericSortAsc2 = (a, b) => a - b;
console.log(numbers.sort(numericSortAsc2)); // [-50, 0, 1, 2, 3, 4, 5, 99, 100, 909, 1000]
```

- If we want to sort *descending*, just flip the subtraction

```js
const numbers = [1000, 100, -50, 0, 99, 909, 3, 5, 2, 1, 4];
console.log(numbers.sort((a, b) => b - a));  // [1000, 909, 100, 99, 5, 4, 3, 2, 1, 0, -50]
```

- To sort strings, *descending*, do something like this:

```js
const colors2 = ["red","green","blue", "Red", "gReen", "bluE"];
const alphaSortDesc = (a,b) => a.toUpperCase() < b.toUpperCase() ? 1 : -1;
console.log(colors2.sort(alphaSortDesc)); // ['Red', 'red', 'gReen', 'green', 'bluE', 'blue']
// try the above without .toUpperCase() and see what happens --> ['red', 'green', 'gReen', 'blue', 'bluE', 'Red']
```

--- 
## IV. ES6 Modules

<!--
- [2B Checkoff - adding ES6 modules to **DoubleIt**](./02B.md#vi-2b-checkoff)
  - [ES6 Module Notes](https://github.com/tonethar/IGME-330-Master/blob/master/notes/ES6-module-pattern-2225.md)
  - [export](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export) and [import](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import)
  - Here is another nice reference with examples- https://javascript.info/import-export
  - Note that you can export a symbol (function, class, or variable) right when you declare it - example:
    - `export const doubleIt = num => num * 2;`
  - OR at the botton of the file like this:
    - `export { doubleIt };`
  - Let's look at `default` exports/imports - which are used when you are only exporting a single symbol from a file, such as a `class` definition
  - Let's also look at "name-spaced" imports, which are useful when you are importing a lot of functions and want to make it clear what file they came from. Example:
    - `import * as utils from "./utils.js"`
  - Something to keep in mind, ES6 modules (similar to classes and OOP practices) are "for people/programmers" - and NOT for the computer
    - the computer doesn't care if all of your code is jammed in one file and the variables and functions are named nonsensically - no matter how your code is structured computers only see 1's and zeroes
    - code organization, modules, OOP etc are there solely to help developers write better code with fewer b ugs, and to more easily maintain/update it
-->

---
---


| <-- Previous Unit | Home | Next Unit -->
| --- | --- | --- 
|  [**Week 2B Notes**](./02B.md)  |  [**IGME-330 Schedule**](../schedule.md) | Week 3B Notes
